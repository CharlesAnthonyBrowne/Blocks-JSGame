{"version":3,"sources":["main.js"],"names":["Transition","canvas","context","width","height","oX","oY","firstParticle","v","obj_max","max","amax","this","initialize","document","getElementById","getContext","window","innerWidth","innerHeight","createParticles","addEventListener","MouseDown","setInterval","Update","Particle","i","p","ang","vang","r","vr","x","y","next","count","ran","Math","random","newP","PI","ax","cos","ay","sin","rr","sqrt","anga","px","py","beginPath","strokeStyle","moveTo","quadraticCurveTo","stroke","closePath","e","preventDefault","fillStyle","rect","fill","app"],"mappings":"AAGA,YAAA,SAASA,cAER,GAAIC,GACAC,EAEAC,EACAC,EAEAC,EACAC,EAQAC,EANAC,EAAI,EACJC,EAAU,GAEVC,EAAM,GACNC,EAAO,CAMXC,MAAKC,WAAa,WACjBZ,EAAUa,SAASC,eAAe,UAClCb,EAAUD,EAAOe,WAAW,MAE5Bb,EAAQc,OAAOC,WACfd,EAASa,OAAOE,YAEhBd,EAAKF,EAAM,EACXG,EAAKF,EAAO,EAEZH,EAAOE,MAAQA,EACfF,EAAOG,OAASA,EAEhBgB,IAEAnB,EAAOoB,iBAAiB,QAASC,GAAW,EAG7BC,aAAYC,EAAQ,IAGpC,IAAIJ,GAAkB,WAKrBb,EAAgB,GAAIkB,EACpB,IAEIC,GAFAC,EAAIpB,CAGR,KAAKmB,EAAI,EAAOhB,EAAJgB,EAASA,IACpBC,EAAEC,IAAMF,EAAIhB,EACZiB,EAAEE,KAAO,EACTF,EAAEG,EAAI,GACNH,EAAEI,GAAK,EACPJ,EAAEK,EAAI3B,EACNsB,EAAEM,EAAI3B,EAEFoB,GAAKhB,EAAM,IACdiB,EAAEO,KAAO,GAAIT,GACbE,EAAIA,EAAEO,OAMLT,EAAW,WACdb,KAAKgB,IACLhB,KAAKiB,KACLjB,KAAKkB,EACLlB,KAAKmB,GACLnB,KAAKoB,EACLpB,KAAKqB,EACLrB,KAAKsB,MAGFV,EAAS,WAKZ,IAHA,GAAIW,GAAQ,EACRR,EAAIpB,EAEFoB,GAGL,GAFAQ,IAEGR,EAAEG,EAAI,IAERH,EAAIA,EAAEO,SAFP,CAOA,GAAIE,GAAMC,KAAKC,QAEf,IAAU,GAANF,EAEHT,EAAEE,KAAO,EACTF,EAAEI,GAAKvB,MAED,IAAU,GAAN4B,EAEVT,EAAEE,MAAQrB,EACVmB,EAAEI,GAAK,MAED,IAAU,GAANK,EAEVT,EAAEE,KAAOrB,EACTmB,EAAEI,GAAK,MAED,IAAU,KAANK,GAAsB3B,EAAPE,EAAe,CACxC,GAAI4B,GAAO,GAAId,EACfc,GAAKX,IAAMD,EAAEC,IAED,GAATD,EAAEC,IACJW,EAAKV,KAAO,EAEZU,EAAKV,KAAOQ,KAAMC,SAAW,GAAO,GAAK,EAG1CC,EAAKT,EAAIH,EAAEG,EAEG,GAAVH,EAAEE,KAELU,EAAKR,GAAK,EAGVQ,EAAKR,GAAK,EAGXQ,EAAKP,EAAIL,EAAEK,EACXO,EAAKN,EAAIN,EAAEM,EAEXM,EAAKL,KAAOP,EAAEO,KACdP,EAAEO,KAAOK,EAIV,GAAIT,GAAIH,EAAEC,IAAMD,EAAEE,IAClBF,GAAEG,EAAIH,EAAEG,EAAIH,EAAEI,EAEX,IAAIH,GAAMS,KAAKG,GAAG,IAAMV,EAEpBW,EAAKd,EAAEG,EAAIO,KAAKK,IAAId,GAEpBe,EAAKhB,EAAEG,EAAIO,KAAKO,IAAIhB,GAEpBiB,EAAKR,KAAKS,KAAKL,EAAKA,EAAKE,EAAKA,GAE9BI,EAAOV,KAAKG,GAAG,KAAOV,GAAKA,EAAIH,EAAEC,KAAO,GAExCoB,EAAKH,EAAKR,KAAKK,IAAIK,GACnBE,EAAKJ,EAAKR,KAAKO,IAAIG,EAG1B7C,GAAQgD,YACRhD,EAAQiD,YAAc,UACnBjD,EAAQkD,OAAOzB,EAAEK,EAAGL,EAAEM,GACtB/B,EAAQmD,iBAAiBL,EAAK3C,EAAI4C,EAAK3C,EAAImC,EAAKpC,EAAIsC,EAAKrC,GACzDJ,EAAQoD,SACRpD,EAAQqD,YAEX5B,EAAEK,EAAIS,EAAKpC,EACXsB,EAAEM,EAAIU,EAAKrC,EACXqB,EAAEC,IAAME,EAERH,EAAIA,EAAEO,KAGPvB,EAAOwB,GAIJb,EAAY,SAASkC,GACxBA,EAAEC,iBACFvD,EAAQwD,UAAY,2BACpBxD,EAAQgD,YACRhD,EAAQyD,KAAK,EAAG,EAAGxD,EAAOC,GAC1BF,EAAQqD,YACRrD,EAAQ0D,OAERxC,KAIF,GAAIyC,KAAM,GAAI7D,WACd6D,KAAIhD","file":"all.js","sourcesContent":["// Transition\n// Ported from flash project\n//\nfunction Transition(){\n\n\tvar canvas;\n\tvar context;\n\n\tvar width;\n\tvar height;\n\n\tvar oX;\n\tvar oY;\n\n\tvar v = 2;\n\tvar obj_max = 60;\n\n\tvar max = 20;\n\tvar amax = 0;\n\n\tvar firstParticle;\n\n\tvar interval;\n\n\tthis.initialize = function(){\n\t\tcanvas  = document.getElementById(\"canvas\");\n\t\tcontext = canvas.getContext('2d');\n\n\t\twidth = window.innerWidth\n\t\theight = window.innerHeight\n\n\t\toX = width/2;\n\t\toY = height/2;\n\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\n\t\tcreateParticles();\n\n\t\tcanvas.addEventListener('click', MouseDown, false);\n\n\t\t//Set interval - Bad! - I know!\n\t\tvar interval = setInterval(Update, 20);\n\t}\n\n\tvar createParticles = function(){\n\n\t\tvar sr = 1;\n\t\tvar vr = 0.00005;\n\n\t\tfirstParticle = new Particle();\n\t\tvar p = firstParticle;\n\n\t\tvar i;\n\t\tfor (i = 0; i < max; i++){\n\t\t\tp.ang = i * max;\n\t\t\tp.vang = 1;\n\t\t\tp.r = 10;\n\t\t\tp.vr = 0;\n\t\t\tp.x = oX;\n\t\t\tp.y = oY;\n\n\t\t\tif (i != max - 1){\n\t\t\t\tp.next = new Particle();\n\t\t\t\tp = p.next;\n\t\t\t}\n\t\t}\n\t}\n\n\t//Point class.\n\tvar Particle = function(){\n\t\tthis.ang;\n\t\tthis.vang;\n\t\tthis.r;\n\t\tthis.vr;\n\t\tthis.x;\n\t\tthis.y;\n\t\tthis.next; //Child\n\t}\n\n\tvar Update = function(){\n\n\t\tvar count = 0;\n\t\tvar p = firstParticle;\n\n\t\twhile(p){\n\t\t\tcount++;\n\n\t\t\tif(p.r > 400){\n\n\t\t\t\tp = p.next;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar ran = Math.random();\n\n\t\t\tif (ran < 0.1){\n\n\t\t\t\tp.vang = 0;\n\t\t\t\tp.vr = v;\n\n\t\t\t} else if (ran < 0.2){\n\n\t\t\t\tp.vang = -v;\n\t\t\t\tp.vr = 0;\n\n\t\t\t} else if (ran < 0.3){\n\n\t\t\t\tp.vang = v;\n\t\t\t\tp.vr = 0;\n\n\t\t\t} else if (ran < 0.304 && amax < obj_max){\n\t\t\t\tvar newP = new Particle();\n\t\t\t\tnewP.ang = p.ang;\n\n\t\t\t\tif(p.ang == 0){\n\t\t\t\t\tnewP.vang = 0;\n\t\t\t\t} else {\n\t\t\t\t\tnewP.vang = (Math.random() < 0.5) ? -1 : 1;\n\t\t\t\t}\n\n\t\t\t\tnewP.r = p.r;\n\n\t\t\t\tif (p.vang == 0){\n\n\t\t\t\t\tnewP.vr = 1;\n\t\t\t\t} else {\n\n\t\t\t\t\tnewP.vr = 0;\n\t\t\t\t}\n\n\t\t\t\tnewP.x = p.x;\n\t\t\t\tnewP.y = p.y;\n\n\t\t\t\tnewP.next = p.next;\n\t\t\t\tp.next = newP;\n\n\t\t\t}\n\n\t\t\tvar r = p.ang + p.vang;\n\t\t\tp.r = p.r + p.vr;\n\n\t   \t\tvar ang = Math.PI/180 * r;\n\n\t   \t\tvar ax = p.r * Math.cos(ang);\n\t   \t\t//console.log(ax);\n\t   \t\tvar ay = p.r * Math.sin(ang);\n\n\t   \t\tvar rr = Math.sqrt(ax * ax + ay * ay);\n\n\t   \t\tvar anga = Math.PI/180 * (r - (r - p.ang) / 2);\n\n\t   \t\tvar px = rr * Math.cos(anga);\n\t   \t\tvar py = rr * Math.sin(anga);\n\n\t   \t\t//After all this maths, finally draw!\n\t\t\tcontext.beginPath();\n\t\t\tcontext.strokeStyle = '#000000';\n\t   \t\tcontext.moveTo(p.x, p.y);\n\t   \t\tcontext.quadraticCurveTo(px + oX, py + oY, ax + oX, ay + oY);\n\t   \t\tcontext.stroke();\n\t   \t\tcontext.closePath();\n\n\t\t\tp.x = ax + oX;\n\t\t\tp.y = ay + oY;\n\t\t\tp.ang = r;\n\n\t\t\tp = p.next;\n\t\t}\n\n\t\tamax = count;\n\t}\n\n\t//Clear the screen,\n\tvar MouseDown = function(e) {\n\t\te.preventDefault();\n\t\tcontext.fillStyle = 'rgba(255, 255, 255, 1.0)';\n\t\tcontext.beginPath();\n\t\tcontext.rect(0, 0, width, height);\n\t\tcontext.closePath();\n\t\tcontext.fill();\n\t\t//Restart!\n\t\tcreateParticles();\n\t}\n}\n\nvar app = new Transition();\napp.initialize();\n"],"sourceRoot":"/source/"}